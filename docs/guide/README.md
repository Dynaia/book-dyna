## 设计思想

> **什么是 Dyna**

?> Dyna 并不是再造一个后台管理系统，而是基于多年企业级开发经验，对重复出现又高度一致的通用能力进行系统性沉淀。

?> 与各类开源管理系统不同的是，Dyna 更关注**底层能力的抽象与复用**，Dyna 的目标是为业务系统提供一套稳定、统一、可扩展的底层支撑能力。

> **核心设计原则**

Dyna 的设计遵循以下几个核心原则：

?> **统一优于灵活**：能统一的地方尽量统一，提供声明式开发规范

?> **约定大于配置**：提供清晰、明确的默认行为

?> **只做通用能力**：不侵入、不绑架业务，关注技术沉淀

?> **可拆、可扩展**：扩展能力模块化，可按需引入

> **核心模块能力**

Dyna 主要有以下几个核心模块：

1. **Core：主要统一开发规范**

- 统一业务异常 AppException，统一定义异常码 StatusCode，接口返回结构 ApiResponse

- 统一身份上下文 CallContext，包含身份信息 Identity 和用户信息 UserProfile，支持扩展 attributes

2. **Data：主要统一数据规范**

- 统一时间格式转换，使用 Long 类型和前端交互，避免时区差异导致的时间偏移问题

- 统一审计字段，基于 Mybatis-Plus MetaObjectHandler 做数据填充

- 统一数据校验异常，支持 Validation 校验及手动校验抛出 ValidateConstraintViolationException

- 统一分页查询和响应结构，支持 Pageable 分页参数，统一校验结果结构

- 统一基于 EasyExcel 实现导入 / 导出，导入支持校验

- 统一 Redis key 前缀区分项目

3. **Security：实现资源授权规范**

- 基于 JWT 实现身份加解密，过滤器中构造身份上下文，基于 SpringSecurity 实现授权

- 配置化接口白名单，并提供可扩展过滤器 SPI 接口

- 提供权限加载和用户信息加载 SPI 接口

4. **Web：统一请求响应规范**

- 统一接口响应结构封装 ResponseBodyAdvice

- 支持国际化响应提示 message

> **扩展模块能力**

Dyna 提供常见的扩展组件，即插即用，可按需集成。目前已提供如下组件：

- [x] 代码生成：提供 CRUDE 基础代码生成

- [x] 登录认证：提供登录、续期、退出等默认接口，支持账号密码等方式登录

---
{docsify-updated}